---
import type { PicPerfImageProps } from "..";
import SrcImage from "./SrcImage.astro";
import SrcObjImage from "./SrcObjImage.astro";

type Props = PicPerfImageProps;

const { src, srcset, includeInSitemap = false, ...rest } = Astro.props;
---

{
  typeof src === "object" ? (
    <SrcObjImage
      srcObj={src}
      includeInSitemap={includeInSitemap}
      {...(rest as any)}
    />
  ) : (
    <SrcImage
      src={src as string}
      srcset={srcset}
      includeInSitemap={includeInSitemap}
      {...(rest as any)}
    />
  )
}
